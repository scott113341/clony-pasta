{"version":3,"sources":["../src/cli.js"],"names":["options","args","process","argv","slice","_","Error","repository","directory","resolve","console","log","vars","entries","files","forEach","input","readFileSync","file","Object","assign","output","writeFileSync"],"mappings":";;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,UAAU,EAAhB;AACA,IAAMC,OAAO,wBAASC,QAAQC,IAAR,CAAaC,KAAb,CAAmB,CAAnB,CAAT,EAAgCJ,OAAhC,CAAb;AACA,IAAI,CAACC,KAAKI,CAAL,CAAO,CAAP,CAAL,EAAgB,MAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;AAChB,IAAI,CAACL,KAAKI,CAAL,CAAO,CAAP,CAAL,EAAgB,MAAM,IAAIC,KAAJ,CAAU,wBAAV,CAAN;AAChB,IAAMC,aAAaN,KAAKI,CAAL,CAAO,CAAP,CAAnB;AACA,IAAMG,YAAY,eAAKC,OAAL,CAAaR,KAAKI,CAAL,CAAO,CAAP,CAAb,CAAlB;AACAK,QAAQC,GAAR,QAAiB,6BAAjB;;AAEA,+CACsBJ,UADtB,SACoCC,SADpC,qBAEWA,SAFX;;AAKA,IAAII,OAAO,EAAX;AACA,IAAMC,UAAU,oBAAKL,SAAL,EAAgBI,IAAhB,CAAhB;AACAC,QAAQC,KAAR,CAAcC,OAAd,CAAsB,gBAAQ;AAC5B,MAAMC,QAAQ,kBAAGC,YAAH,CAAgBC,IAAhB,EAAsB,OAAtB,CAAd;AACAC,SAAOC,MAAP,CAAcR,IAAd,EAAoB,qBAAQI,KAAR,EAAeJ,IAAf,CAApB;AACA,MAAMS,SAAS,oBAAKL,KAAL,EAAYJ,IAAZ,CAAf;AACA,oBAAGU,aAAH,CAAiBJ,IAAjB,EAAuBG,MAAvB;AACD,CALD","file":"cli.js","sourcesContent":["\n\nimport fs from 'fs-extra';\nimport path from 'path';\n\nimport eztl from 'eztl';\nimport minimist from 'minimist';\n\nimport exec from './exec.js';\nimport getVars from './input.js';\nimport { getRandomPasta } from './pastas.js';\nimport walk from './walk.js';\n\nconst options = {};\nconst args = minimist(process.argv.slice(2), options);\nif (!args._[0]) throw new Error('Repository is required.');\nif (!args._[1]) throw new Error('Directory is required.');\nconst repository = args._[0];\nconst directory = path.resolve(args._[1]);\nconsole.log(`\\n${getRandomPasta()}\\n`);\n\nexec(`\n  git clone --quiet ${repository} ${directory} && \\\n  rm -rf ${directory}/.git\n`);\n\nvar vars = {};\nconst entries = walk(directory, vars);\nentries.files.forEach(file => {\n  const input = fs.readFileSync(file, 'utf-8');\n  Object.assign(vars, getVars(input, vars));\n  const output = eztl(input, vars);\n  fs.writeFileSync(file, output);\n});\n"]}